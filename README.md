<p align="center" >
   <img src = "https://github.com/ZBL-Kiven/ConstarinFragment/raw/master/demo/title.png"/>
   <br>
   <br>
   <a href = "http://cityfruit.io/">
   <img src = "https://img.shields.io/static/v1?label=By&message=CityFruit.io&color=2af"/>
   </a>
   <a href = "https://github.com/ZBL-Kiven/album">
      <img src = "https://img.shields.io/static/v1?label=platform&message=Android&color=6bf"/>
   </a>
   <a href = "https://github.com/ZBL-Kiven">
      <img src = "https://img.shields.io/static/v1?label=author&message=ZJJ&color=9cf"/>
  </a>
  <a href = "https://developer.android.google.cn/jetpack/androidx">
      <img src = "https://img.shields.io/static/v1?label=supported&message=AndroidX&color=8ce"/>
  </a>
  <a href = "https://www.android-doc.com/guide/components/android7.0.html">
      <img src = "https://img.shields.io/static/v1?label=minVersion&message=Nougat&color=cce"/>
  </a>
</p>
 
## IntroductionÔºö

###### ConstrainFragment ÊòØ‰∏∫ Android Â∫îÁî®ËÆæËÆ°ÁöÑ Fragment Â§öÂ±ÇÁ∫ßÁÆ°ÁêÜÂô®ÈõÜÁæ§Ê°ÜÊû∂ Ôºå‰ΩøÁî® [java]() Âíå [Kotlin]() ËØ≠Ë®ÄÊ∑∑ÂêàÂºÄÂèëÔºåÂÆÉÂÆåÂÖ®Âü∫‰∫éÂéüÁîü API ÂÆûÁé∞ÔºåÂÖºÂÆπ ‚ÄòÂÜÖÂµå‚Äô „ÄÅ‚ÄòÂéãÊ†à‚Äô„ÄÅ‚ÄòÊ®°ÂºèÂÆö‰πâ‚Äô„ÄÅ‚ÄòÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ‚Äô Á≠âÂÆåÂ§áÂäüËÉΩ„ÄÇÂ∫ïÂ±ÇÂü∫‰∫é hash ÈìæË°®ÂÆûÁé∞ÔºåÊÄßËÉΩÂçìË∂äÔºåÁ®≥ÂÆöÁÅµÊ¥ª„ÄÇ‰∏ç‰æùËµñ‰ªª‰ΩïÁ¨¨‰∏âÊñπÂ∫ìÔºåÊòØÁõÆÂâç Fragment ÊâπÂ§ÑÁêÜÂîØ‰∏Ä‰∏Ä‰∏™ËêΩÂú∞Ê°ÜÊû∂„ÄÇ

> ConstrainFragment Â∑≤‰∏∫ AndroidX Êèê‰æõÔºåËØ∑ÂçáÁ∫ßËá≥ V1.0.1 ÁâàÊú¨„ÄÇ

## FeaturesÔºö

* ÊîØÊåÅÔºöFragments Ëá™Âä® Âéã/Âá∫ Ê†à„ÄÇ
* ÊîØÊåÅÔºöÁî±ÂéüÁîü FragmentActivity Êàñ Fragment Áõ¥Êé•ÂêØÂä® ConstrainFragment Ê¥ªÂä®„ÄÇ
* ÊîØÊåÅÔºöÁÆÄÊòìÊ≥®Ëß£Â£∞Êòé Fragment Â∫îÁî®Âú∫ÊôØÈÄÇÈÖç„ÄÅÂêØÂä®Ê®°ÂºèÁ≠â„ÄÇ
* ÊîØÊåÅÔºöÂõ∫ÂÆöÊ†àÂ∫ïÊàñÊµÆÂä®Ê†àÂ∫ï„ÄÇ
* ÊîØÊåÅÔºöÂçïÂ±Ç„ÄÅÂ§öÂ±Ç„ÄÅÊ∑∑ÂêàÂéãÊ†à, ÊîØÊåÅÂÜÖËÅîÊ†à„ÄÇ
* ÊîØÊåÅÔºöBundle Â∫èÂàóÂåñ‰º†ÂèÇ„ÄÇ
* ÊîØÊåÅÔºöonCreated() - onStarted() / onRestart() - onResumed() - onPaused() - onStop() -onDestroyed() Á≠â Activity ÁîüÂëΩÂë®Êúü„ÄÇ
* ÊîØÊåÅÔºöËá™ÂÆö‰πâÊ†à„ÄÅÊèíÂÖ•Ê†à„ÄÅÂà†Èô§Ê†à„ÄÅÊåáÂÆöÊ†à„ÄÅÂõûÈÄÄÊ†à„ÄÇ
* ÊîØÊåÅÔºöÊ†àÂ∫ïËé∑Âèñ„ÄÇ
* ÊîØÊåÅÔºöÊï∞ÊçÆ‰øùÁïôÊàñÊ∏ÖÈô§„ÄÇ

> ÂçïÂÖÉÊµãËØï

- Âç≥Â∞ÜË¶ÜÁõñ

## demoÔºö

‰ΩøÁî® Android ËÆæÂ§á‰∏ãËΩΩ [APK](https://github.com/ZBL-Kiven/ConstarinFragment/raw/master/demo/demo.apk) ÂÆâË£ÖÂåÖÂÆâË£Ö demo Âç≥ÂèØÊääÁé©„ÄÇ

## Installation :


ConstrainFragment Â∑≤ÂèëÂ∏ÉËá≥ÁßÅÊúâ‰ªìÂ∫ìÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®Â¶Ç‰∏ãÊñπÂºèÂÆâË£ÖÂÆÉÔºö

> by dependencies:

```grovy
repo{
     maven (url = "https://nexus.i-mocca.com/repository/cf_core")
}

implementation 'com.cf.core:constrainFragmnet:+'
```

> by [aar](https://nexus.i-mocca.com/repository/cf_core/com/cf/core/constrainFragment/1.0.0/constrainFragment-1.0.0.aar) import:

```
copy the aar file in your app libs to use
```

> by [module](https://github.com/ZBL-Kiven/ConstarinFragment/archive/master.zip) copy:
 
```
copy the module 'zj_cf' into your app

implementation project(":zj_cf")

```

## Usage:

> ‰ΩøÁî® LinkageFragment Ôºö

```
1„ÄÅÂú®‰ªªÊÑèÂú∞ÊñπË∞ÉÁî®Âç≥ÂèØÂêØÂä®ÊòæÁ§∫Ôºö
BaseFragmentManager(ctx, container:ViewGroup, curItem:Int, indicators:ViewGrop, FragmentA(), FragmentB(), FragmentN()...){
        //when empty stack
}

*Ê≥®ÔºöÈúÄË¶ÅÊîØÊåÅÂàáÊç¢ÊòæÁ§∫ÁöÑ Fragment ÁªßÊâøËá™ BaseLinkageFragment
FragmentA extend BaseLinkageFragment...
``` 

BaseFragmentManager ÂÖÅËÆ∏ÈÄöËøá TAB ÊéßÂà∂ÊòæÁ§∫Â§ö‰∏™ FragmentÔºå‰∏çÂêå‰∫éÊôÆÈÄöÂºÄÊ∫êÂ∫ìÁöÑÊòØÔºåÂÆÉÂÖ∑ÊúâÂÆåÂñÑÁöÑÁîüÂëΩÂë®ÊúüÔºå‰∏îÊîØÊåÅÁõ¥Êé•Âú®‰ªªÊÑè Item ÂºÄÂêØ Fragment Ê†àÔºåÂêåÊó∂ÂÆÉÂèØ‰ª•Êõ¥Êñπ‰æøÁöÑ‰ΩøÁî®ÂíåÂÖ∑Â§áÊõ¥Âº∫ÁöÑÊâ©Â±ï„ÄÇ

> ‰ΩøÁî® ConstrainFragmentÔºö

```
//ÂøÖÈ°ªÊ≥®Ëß£
@Constrain(id:String , mod:BackMode)

//ÂèØÈÄâÊ≥®Ëß£
@LaunchMode(mod:LaunchMode) 

//activity Êàñ fragment
startFragment(cls:Class , b:Bundle)


* Ê≥®ÔºöÈÄÇÁî®‰∫éÈìæÂºèÂéãÊ†àÁöÑ Fragment ÈúÄÁªßÊâøËá™ ConstrainFragment
yourFragment : ConstrainFragment()
```
* Ê≥®Ôºö

* id ‰∏∫Ê†áËØÜËøô‰∏™ Fragment Âú®Ê†àÂÜÖÁöÑÂîØ‰∏Ä ID ÔºåËØ• ID ‰∫¶ÂèØÁî®‰∫é‰ªéÊ†àÂÜÖËé∑ÂèñÊàñÊü•ËØ¢ÂØπÂ∫îÁöÑ Fragment „ÄÇ
 
* BackMod ‰∏∫ ÂÆö‰πâÂ•ΩÁöÑ Int ÂÄºÔºå‰ΩøÁî®ËÄÖ‰ªÖËÉΩ‰º†‰∫∫ lastingÔºà1Ôºâ only-onceÔºà0Ôºâ ‰∏§‰∏™ÂÄºÔºåÂÖ∂‰∏≠Ôºå
  
  1„ÄÅÂØπ‰∫é only-once ÁöÑËß£ÈáäÔºö @property ONLY_ONCE the fragment has created only by used , and it'll destroy when close
 
  2„ÄÅÂØπ‰∫é lasting ÁöÑËß£ÈáäÔºö @property LASTING if the manager is running or activity is living , the fragment will exists in long at stack
 
* LaunchMode ‰∏∫ÂÆö‰πâËØ• Fragment ÂêØÂä®Âú∫ÊôØÁ∫¶ÊùüÔºåÁî±‰ΩøÁî®ËÄÖÊ†πÊçÆ‰∏öÂä°Âú∫ÊôØ‰ΩøÁî®„ÄÇÂåÖÂê´Â¶Ç‰∏ãËßÑÂàôÔºö
 
 1„ÄÅ@property STACK Ôºöthis fragment will back by an ordered stack,for added, it'll remove all task stack on the top of self
 
 2 @property FOLLOW Ôºö liked STACK , but it won't remove any task stack , although the same one in the bottom of self
 
 3 @property CLEAR_BACK_STACK Ôºö never created backed stack , only back to home when it closed .@see ConstrainHome

## Func

> ÁªìÊùüÔºö
 
```
  finish()
```
Âú®‰ªªÊÑèÂú∞ÁÇπË∞ÉÁî® Finish ÂùáÂèØÁªìÊùüÂá∫Ê†àÂπ∂ÂÖ≥Èó≠ËØ•Ê¥ªÂä®ÔºåÂêåÊó∂Âî§Ëµ∑‰∏ä‰∏Ä‰∏™ Fragment Êàñ ÂÖ≥Èó≠Ê†àÔºàÊ†à‰∏∫Á©∫Êó∂Ôºâ„ÄÇ
  
> Ëé∑ÂèñÊ†àÈ°∂Ôºö

```
getTop()
```
Âú®‰ªª‰ΩïÊó∂ÂÄô‰ΩøÁî®Ê≠§ÊñπÊ≥ïËé∑ÂèñÂΩìÂâç Fragment Ê†àÈ°∂ÔºàÂ¶ÇÂ≠òÂú®Ôºâ„ÄÇ

> ËÆæÁΩÆÂõûÈÄÄÊ†à

```
setPrevious(cls:Class, b:Bundle)
```
Âú®‰ªª‰ΩïÊó∂ÂÄô‰ΩøÁî®Ê≠§ÊñπÊ≥ïËÆæÁΩÆÂΩìÂâç Fragment ÂõûÈÄÄÊ†à„ÄÇ

> Ê∏ÖÁ©∫Ê†à

```
clearStack()
```
Âú®‰ªª‰ΩïÊó∂ÂÄôË∞ÉÁî®ÊñπÊ≥ïÊ∏ÖÁ©∫ÂΩìÂâç Fragment Ê†à„ÄÇ

## SimpleDemo

> È°πÁõÆ‰∏≠ÁöÑ‰ªªÊÑè Activity

```java 
class MainActivity:AppCompatActivity(){

   fun a(){
     val b = Bundle()
     b.putStringExtra("hello"," i'm new constrain fragment stack")
     startFragment(FragmentA::class.java, b)
   }    
   
   fun b(){
     BaseFragmentManager(this,frgContainer,2,llIndicators,BottomA(),BottomB(),BottomC(),BottomD(),BottomE())
   }
}

```

> ÂÆö‰πâÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ ConstrainFragment

```kotlin
@Constrain(id = "FragmentA", backMode = BackMode.LASTING)
@LaunchMode(LaunchMode.Stack)
class FragmentA : ConstrainFragment() {

   override fun onPostValue(b:Bundle){
      print(b.getStringExtra("hello").toString)
   }
   
   fun a(){
      setPrevious(FragmentB::class.java,null)
   }
   
   fun b(){
      finish()
   }
   
   fun c(){
     startFragment(FragmentC::class.java,null)//in same tasks
   }
   
   fun d(){
     startFragmentByNewTask(FragmentC::class.java,null)//on new task
   }
   
   fun e(){
      getStackTop()?.finish()//Ëé∑ÂèñÊ†àÈ°∂ and doSomething
   }
}
```

### Contributing

Contributions are very welcome üéâ

### Licence :  

Copyright (c) 2019 CityFruit zjj0888@gmail.com<br>
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.<br>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
